<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>推し活デジタルトレカ</title>
<style>
:root {
  --bg: #0b0f17;
  --card-bg: #111827;
  --accent: #a78bfa;
  --ink: #e5e7eb;
  --muted: #9ca3af;
  --shadow: 0 8px 30px rgba(0,0,0,.35);
  --radius: 16px;
  --ar-w: 55;
  --ar-h: 83;
}

/* 全体レイアウト */
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: radial-gradient(1200px 700px at 70% -10%, #1f2937 0%, var(--bg) 60%);
  color: var(--ink);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px;
}

h2 {
  margin: 24px 0 8px;
}

/* 一覧表示の調整 */
.section {
  width: 80%;
  max-width: 1400px;
  margin: 14px auto 22px;
}

.set {
  width: 100%;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  width: 90%;
  margin: 0 auto;
}

.thumb {
  cursor: pointer;
}

.thumb img {
  width: 100%;
  height: auto;
  object-fit: contain;
  border-radius: 8px;
}

/* 詳細ビュー */
.viewer {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.85);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 1000;
}

.viewer.active {
  display: flex;
}

.dialog {
  background: var(--card-bg);
  border-radius: 16px;
  box-shadow: var(--shadow);
  max-width: min(900px, 92vw);
  width: 100%;
  max-height: 96svh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  overflow: hidden;
}

.img-wrap {
  perspective: 1400px;
  width: 100%;
  aspect-ratio: var(--ar-w) / var(--ar-h);
  position: relative;
}

.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform .8s;
}

.card-inner.is-flipped {
  transform: rotateY(180deg);
}

.face {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
}

.face img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.back {
  transform: rotateY(180deg);
}

/* 情報パネル */
.panel {
  padding: 16px;
  color: var(--ink);
}

.close-btn {
  background: none;
  border: none;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  position: absolute;
  top: 8px;
  right: 12px;
}

/* モバイル最適化 */
@media (max-width: 480px) {
  .section {
    width: 90%;
  }
  .grid {
    gap: 6px;
  }
  .dialog {
    max-width: 100vw;
    max-height: 100svh;
    border-radius: 12px;
  }
  .img-wrap {
    height: calc(100svh - 48px - 22px - 16px - 200px);
    aspect-ratio: var(--ar-w) / var(--ar-h);
    width: auto;
    max-width: 92vw;
    margin: 0 auto;
  }
  .panel {
    padding: 10px;
    min-height: 200px;
  }
}
</style>
</head>
<body>

<!-- 一覧画面 -->
<div class="section">
  <div class="set">
    <h2>Oshi Name 1</h2>
    <div class="grid">
      <div class="thumb" data-front="front-1.jpg" data-back="back-1.jpg" data-info="デビュー:2024.06 / カラー:Light Purple"> 
        <img src="front-1.jpg" alt="">
      </div>
      <div class="thumb" data-front="front-2.jpg" data-back="back-2.jpg" data-info="デビュー:2023.05 / カラー:Blue"> 
        <img src="front-2.jpg" alt="">
      </div>
      <div class="thumb" data-front="front-3.jpg" data-back="back-3.jpg" data-info="デビュー:2022.04 / カラー:Pink"> 
        <img src="front-3.jpg" alt="">
      </div>
    </div>
  </div>
</div>

<!-- 詳細ビュー -->
<div class="viewer" id="viewer">
  <div class="dialog">
    <button class="close-btn" id="closeBtn">×</button>
    <div class="img-wrap">
      <div class="card-inner" id="cardInner">
        <div class="face front"><img id="viewFront" src=""></div>
        <div class="face back"><img id="viewBack" src=""></div>
      </div>
    </div>
    <div class="panel" id="infoPanel"></div>
  </div>
</div>

<script>
document.querySelectorAll('.thumb').forEach(thumb => {
  thumb.addEventListener('click', () => {
    document.getElementById('viewer').classList.add('active');
    document.getElementById('viewFront').src = thumb.dataset.front;
    document.getElementById('viewBack').src = thumb.dataset.back;
    document.getElementById('infoPanel').textContent = thumb.dataset.info;
  });
});

document.getElementById('closeBtn').addEventListener('click', () => {
  document.getElementById('viewer').classList.remove('active');
  document.getElementById('cardInner').classList.remove('is-flipped');
});

document.getElementById('cardInner').addEventListener('click', () => {
  document.getElementById('cardInner').classList.toggle('is-flipped');
});
</script>
</body>
</html>
