<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>推し活デジタルトレカ | 3カラム一覧 + 詳細ビュー</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>推し活デジタルトレカ – 3カラム一覧 + 詳細ビュー</h1>
    <p>サムネをタップ/クリック → モーダルで表⇄裏切替＋情報パネル / 裏面にSNSボタン</p>
  </header>

  <!-- ===== セット1 ===== -->
  <div class="set" id="set1">
    <section class="section" aria-label="名前A"><h2>名前A</h2><div class="grid">
      <article class="thumb"
        data-front="front-1.jpg" data-back="back-1.jpg"
        data-title="Name A-1" data-id="001" data-rarity="Rare" data-color="Violet" data-extra="Unit: A"
        data-instagram="https://instagram.com/your_oshi_a1" data-tiktok="https://www.tiktok.com/@your_oshi_a1" data-x="https://x.com/your_oshi_a1">
        <div class="frame"><img src="front-1.jpg" alt="#001 表" loading="lazy"></div><div class="title">#001</div>
      </article>
      <article class="thumb"
        data-front="front-2.jpg" data-back="back-2.jpg"
        data-title="Name A-2" data-id="002" data-rarity="Normal" data-color="Blue" data-extra="Mood: Cool"
        data-instagram="https://instagram.com/your_oshi_a2" data-tiktok="https://www.tiktok.com/@your_oshi_a2" data-x="https://x.com/your_oshi_a2">
        <div class="frame"><img src="front-2.jpg" alt="#002 表" loading="lazy"></div><div class="title">#002</div>
      </article>
      <article class="thumb"
        data-front="front-3.jpg" data-back="back-3.jpg"
        data-title="Name A-3" data-id="003" data-rarity="Epic" data-color="Rose" data-extra="Theme: Shiny"
        data-instagram="https://instagram.com/your_oshi_a3" data-tiktok="https://www.tiktok.com/@your_oshi_a3" data-x="https://x.com/your_oshi_a3">
        <div class="frame"><img src="front-3.jpg" alt="#003 表" loading="lazy"></div><div class="title">#003</div>
      </article>
    </div></section>
  </div>

  <!-- ===== セット2 ===== -->
  <div class="set" id="set2">
    <section class="section" aria-label="名前B"><h2>名前B</h2><div class="grid">
      <article class="thumb"
        data-front="front-4.jpg" data-back="back-4.jpg"
        data-title="Name B-1" data-id="004" data-rarity="Normal" data-color="Mint" data-extra="Debut: 2024.10"
        data-instagram="https://instagram.com/your_oshi_b1" data-tiktok="https://www.tiktok.com/@your_oshi_b1" data-x="https://x.com/your_oshi_b1">
        <div class="frame"><img src="front-4.jpg" alt="#004 表" loading="lazy"></div><div class="title">#004</div>
      </article>
      <article class="thumb"
        data-front="front-5.jpg" data-back="back-5.jpg"
        data-title="Name B-2" data-id="005" data-rarity="Rare" data-color="Gold" data-extra="Mood: Bright"
        data-instagram="https://instagram.com/your_oshi_b2" data-tiktok="https://www.tiktok.com/@your_oshi_b2" data-x="https://x.com/your_oshi_b2">
        <div class="frame"><img src="front-5.jpg" alt="#005 表" loading="lazy"></div><div class="title">#005</div>
      </article>
      <article class="thumb"
        data-front="front-6.jpg" data-back="back-6.jpg"
        data-title="Name B-3" data-id="006" data-rarity="Normal" data-color="Indigo" data-extra="Theme: Night"
        data-instagram="https://instagram.com/your_oshi_b3" data-tiktok="https://www.tiktok.com/@your_oshi_b3" data-x="https://x.com/your_oshi_b3">
        <div class="frame"><img src="front-6.jpg" alt="#006 表" loading="lazy"></div><div class="title">#006</div>
      </article>
    </div></section>
  </div>

  <!-- ===== セット3 ===== -->
  <div class="set" id="set3">
    <section class="section" aria-label="カプ名1"><h2>カプ名1</h2><div class="grid">
      <article class="thumb"
        data-front="front-7.jpg" data-back="back-7.jpg"
        data-title="Pair 1" data-id="007" data-rarity="Epic" data-color="Royal Blue" data-extra="Tag: #pair"
        data-instagram="https://instagram.com/your_pair1" data-tiktok="https://www.tiktok.com/@your_pair1" data-x="https://x.com/your_pair1">
        <div class="frame"><img src="front-7.jpg" alt="#007 表" loading="lazy"></div><div class="title">#007</div>
      </article>
      <article class="thumb"
        data-front="front-8.jpg" data-back="back-8.jpg"
        data-title="Pair 2" data-id="008" data-rarity="Normal" data-color="Pink" data-extra="Debut: 2022.05"
        data-instagram="https://instagram.com/your_pair2" data-tiktok="https://www.tiktok.com/@your_pair2" data-x="https://x.com/your_pair2">
        <div class="frame"><img src="front-8.jpg" alt="#008 表" loading="lazy"></div><div class="title">#008</div>
      </article>
      <article class="thumb"
        data-front="front-9.jpg" data-back="back-9.jpg"
        data-title="Pair 3" data-id="009" data-rarity="Legend" data-color="Violet" data-extra="Theme: Stage"
        data-instagram="https://instagram.com/your_pair3" data-tiktok="https://www.tiktok.com/@your_pair3" data-x="https://x.com/your_pair3">
        <div class="frame"><img src="front-9.jpg" alt="#009 表" loading="lazy"></div><div class="title">#009</div>
      </article>
    </div></section>
  </div>

  <!-- ===== セット4 ===== -->
  <div class="set" id="set4">
    <section class="section" aria-label="名前C"><h2>名前C</h2><div class="grid">
      <article class="thumb"
        data-front="front-10.jpg" data-back="back-10.jpg"
        data-title="Name C-1" data-id="010" data-rarity="Rare" data-color="Violet" data-extra="—"
        data-instagram="https://instagram.com/your_oshi_c1" data-tiktok="https://www.tiktok.com/@your_oshi_c1" data-x="https://x.com/your_oshi_c1">
        <div class="frame"><img src="front-10.jpg" alt="#010 表" loading="lazy"></div><div class="title">#010</div>
      </article>
      <article class="thumb"
        data-front="front-11.jpg" data-back="back-11.jpg"
        data-title="Name C-2" data-id="011" data-rarity="Normal" data-color="Blue" data-extra="—"
        data-instagram="https://instagram.com/your_oshi_c2" data-tiktok="https://www.tiktok.com/@your_oshi_c2" data-x="https://x.com/your_oshi_c2">
        <div class="frame"><img src="front-11.jpg" alt="#011 表" loading="lazy"></div><div class="title">#011</div>
      </article>
      <article class="thumb"
        data-front="front-12.jpg" data-back="back-12.jpg"
        data-title="Name C-3" data-id="012" data-rarity="Epic" data-color="Rose" data-extra="—"
        data-instagram="https://instagram.com/your_oshi_c3" data-tiktok="https://www.tiktok.com/@your_oshi_c3" data-x="https://x.com/your_oshi_c3">
        <div class="frame"><img src="front-12.jpg" alt="#012 表" loading="lazy"></div><div class="title">#012</div>
      </article>
    </div></section>
  </div>

  <!-- ===== セット5 ===== -->
  <div class="set" id="set5">
    <section class="section" aria-label="カプ名2"><h2>カプ名2</h2><div class="grid">
      <article class="thumb"
        data-front="front-13.jpg" data-back="back-13.jpg"
        data-title="Pair 4" data-id="013" data-rarity="Epic" data-color="Royal Blue" data-extra="—"
        data-instagram="https://instagram.com/your_pair4" data-tiktok="https://www.tiktok.com/@your_pair4" data-x="https://x.com/your_pair4">
        <div class="frame"><img src="front-13.jpg" alt="#013 表" loading="lazy"></div><div class="title">#013</div>
      </article>
      <article class="thumb"
        data-front="front-14.jpg" data-back="back-14.jpg"
        data-title="Pair 5" data-id="014" data-rarity="Normal" data-color="Pink" data-extra="—"
        data-instagram="https://instagram.com/your_pair5" data-tiktok="https://www.tiktok.com/@your_pair5" data-x="https://x.com/your_pair5">
        <div class="frame"><img src="front-14.jpg" alt="#014 表" loading="lazy"></div><div class="title">#014</div>
      </article>
      <article class="thumb"
        data-front="front-15.jpg" data-back="back-15.jpg"
        data-title="Pair 6" data-id="015" data-rarity="Legend" data-color="Violet" data-extra="—"
        data-instagram="https://instagram.com/your_pair6" data-tiktok="https://www.tiktok.com/@your_pair6" data-x="https://x.com/your_pair6">
        <div class="frame"><img src="front-15.jpg" alt="#015 表" loading="lazy"></div><div class="title">#015</div>
      </article>
    </div></section>
  </div>

  <!-- ===== 詳細ビュー（モーダル） ===== -->
  <div class="viewer" id="viewer" aria-hidden="true">
    <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="viewerTitle">
      <header>
        <h3 id="viewerTitle">カード詳細</h3>
        <div class="actions">
          <button class="btn" id="flipBtn" title="表/裏切替">表⇄裏</button>
          <button class="btn" id="closeBtn" title="閉じる">閉じる</button>
        </div>
      </header>
      <div class="content">
        <div class="img-wrap" id="bigWrap" tabindex="0" aria-label="画像をクリックで表裏切替">
          <img class="front" id="bigFront" src="" alt="表">
          <img class="back"  id="bigBack"  src="" alt="裏">
        </div>
        <div class="panel">
          <p class="meta-title" id="bigTitle">—</p>
          <div class="stats">
            <div class="stat"><div class="k">ID</div><div class="v" id="bigId">—</div></div>
            <div class="stat"><div class="k">Rarity</div><div class="v" id="bigRarity">—</div></div>
            <div class="stat"><div class="k">Color</div><div class="v" id="bigColor">—</div></div>
            <div class="stat"><div class="k">Info</div><div class="v" id="bigExtra">—</div></div>
          </div>

          <!-- SNSボタン -->
          <div class="sns-links">
            <a id="snsInsta" class="sns-btn" href="#" target="_blank" rel="noopener" aria-label="Instagram">
              <img src="sns-icon/instagram.png" alt="" />
            </a>
            <a id="snsTiktok" class="sns-btn" href="#" target="_blank" rel="noopener" aria-label="TikTok">
              <img src="sns-icon/tiktok.png" alt="" />
            </a>
            <a id="snsX" class="sns-btn" href="#" target="_blank" rel="noopener" aria-label="X">
              <img src="sns-icon/x.png" alt="" />
            </a>
          </div>
        </div>
      </div>
      <div class="hint">Escで閉じる / 画像 or 「表⇄裏」ボタンで切替</div>
    </div>
  </div>

  <script>
    // 要素参照
    const viewer = document.getElementById('viewer');
    const dialog = viewer.querySelector('.dialog');
    const bigFront = document.getElementById('bigFront');
    const bigBack  = document.getElementById('bigBack');
    const bigTitle = document.getElementById('bigTitle');
    const bigId    = document.getElementById('bigId');
    const bigRarity= document.getElementById('bigRarity');
    const bigColor = document.getElementById('bigColor');
    const bigExtra = document.getElementById('bigExtra');
    const bigWrap  = document.getElementById('bigWrap');
    const snsInsta = document.getElementById('snsInsta');
    const snsTiktok= document.getElementById('snsTiktok');
    const snsX     = document.getElementById('snsX');

    const openViewer = () => {
      viewer.classList.add('open');
      viewer.setAttribute('aria-hidden','false');
      document.body.classList.add('no-scroll');
    };
    const closeViewer = () => {
      viewer.classList.remove('open');
      viewer.setAttribute('aria-hidden','true');
      document.body.classList.remove('no-scroll');
    };

    // サムネクリック → 詳細ビュー
    document.querySelectorAll('.thumb').forEach(t =>{
      t.addEventListener('click', ()=>{
        // 画像
        bigFront.src = t.dataset.front;
        bigBack.src  = t.dataset.back;

        // メタ
        bigTitle.textContent  = t.dataset.title || '—';
        bigId.textContent     = t.dataset.id    || '—';
        bigRarity.textContent = t.dataset.rarity|| '—';
        bigColor.textContent  = t.dataset.color || '—';
        bigExtra.textContent  = t.dataset.extra || '—';

        // SNSリンク（無い場合はボタンを無効化）
        const setHref = (el, url) => {
          if(url){ el.href = url; el.classList.remove('disabled'); el.setAttribute('aria-disabled','false'); }
          else   { el.href = '#'; el.classList.add('disabled'); el.setAttribute('aria-disabled','true'); }
        };
        setHref(snsInsta, t.dataset.instagram);
        setHref(snsTiktok, t.dataset.tiktok);
        setHref(snsX, t.dataset.x);

        dialog.classList.remove('is-back');
        openViewer();
      });
    });

    // 表/裏 切替（フェード方式）
    const flip = ()=> dialog.classList.toggle('is-back');
    document.getElementById('flipBtn').addEventListener('click', flip);
    bigWrap.addEventListener('click', flip);

    // 閉じる
    document.getElementById('closeBtn').addEventListener('click', closeViewer);
    viewer.addEventListener('click', (e)=>{ if(e.target === viewer) closeViewer(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeViewer(); });
  </script>
</body>
</html>
